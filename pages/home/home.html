<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="../global.css" />
    <script src="../../components/navbar.js"></script>
    <title>RedPOS</title>
  </head>
  <body>
    <div class="global-container">
      <div id="sidebar"></div>
      <div class="body-container">
        <div class="header">
          <h2>Recent Checkouts</h2>
          <!--card component-->
          <div class="card-container">
            <div class="card">
              <div class="card-header">
                <h2>Order ID: #147815</h2>
              </div>
              <div class="card-body">
                <div class="ordered-item">
                  <span class="item-name">Caffe Latte</span>
                  <span class="item-price">$2</span>
                </div>
                <div class="ordered-item">
                  <span class="item-name">Caffe Cappucino</span>
                  <span class="item-price">$2</span>
                </div>
              </div>
              <div class="card-footer">
                <span class="total-label">Total Bill:</span>
                <span class="total-price">$4</span>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <h2>Order ID: #147815</h2>
              </div>
              <div class="card-body">
                <div class="ordered-item">
                  <span class="item-name">Caffe Latte</span>
                  <span class="item-price">$2</span>
                </div>
                <div class="ordered-item">
                  <span class="item-name">Caffe Cappucino</span>
                  <span class="item-price">$2</span>
                </div>
              </div>
              <div class="card-footer">
                <span class="total-label">Total Bill:</span>
                <span class="total-price">$4</span>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <h2>Order ID: #147815</h2>
              </div>
              <div class="card-body">
                <div class="ordered-item">
                  <span class="item-name">Caffe Latte</span>
                  <span class="item-price">$2</span>
                </div>
                <div class="ordered-item">
                  <span class="item-name">Caffe Cappucino</span>
                  <span class="item-price">$2</span>
                </div>
              </div>
              <div class="card-footer">
                <span class="total-label">Total Bill:</span>
                <span class="total-price">$4</span>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <h2>Order ID: #147815</h2>
              </div>
              <div class="card-body">
                <div class="ordered-item">
                  <span class="item-name">Caffe Latte</span>
                  <span class="item-price">$2</span>
                </div>
                <div class="ordered-item">
                  <span class="item-name">Caffe Cappucino</span>
                  <span class="item-price">$2</span>
                </div>
              </div>
              <div class="card-footer">
                <span class="total-label">Total Bill:</span>
                <span class="total-price">$4</span>
              </div>
            </div>
          </div>
          <!--closing card component-->
        </div>
        <div class="second-container">
          <div class="pie-chart">
            <script
              type="text/javascript"
              src="https://www.gstatic.com/charts/loader.js"
            ></script>
            <script type="text/javascript">
              google.charts.load("current", { packages: ["corechart"] });
              google.charts.setOnLoadCallback(drawChart);

              function drawChart() {
                var data = google.visualization.arrayToDataTable([
                  ["Menu", "Percentage"],
                  ["Americano", 4.7],
                  ["Cappuccino", 35.3],
                  ["Latte", 20.2],
                  ["Macchiato", 15.3],
                  ["Misto", 5],
                  ["Mocha", 19.5],
                ]);

                var screenWidth = window.innerWidth;
                var isMobile = screenWidth <= 768;

                var options = {
                  title: "Menu Distribution",
                  titleTextStyle: {
                    color: "#cdd6f4",
                    fontSize: 24,
                    fontName: "Poppins",
                  },
                  pieHole: 0,
                  backgroundColor: "transparent",
                  chartArea: {
                    width: isMobile ? "100%" : "75%",
                    height: isMobile ? "45%" : "40%",
                  },
                  legend: {
                    textStyle: { color: "white", fontSize: isMobile ? 12 : 16 },
                    alignment: "center",
                    position: "right",
                  },
                  pieSliceTextStyle: { color: "white" },
                  colors: [
                    "--pie-rosewater",
                    "--pie-pink",
                    "--pie-red",
                    "--pie-peach",
                    "--pie-green",
                    "--pie-sky",
                  ].map((color) =>
                    getComputedStyle(document.documentElement)
                      .getPropertyValue(color)
                      .trim()
                  ),
                  pieSliceText: "none",
                  width: isMobile ? screenWidth - 20 : undefined, // Set width for mobile
                  height: isMobile ? 300 : undefined, // Set height for mobile
                };

                var chart = new google.visualization.PieChart(
                  document.getElementById("piechart")
                );
                chart.draw(data, options);
              }
            </script>
            <div id="piechart"></div>
          </div>
          <div class="top-sales">
            <h2>Top Sales</h2>
            <ul class="top-sales-list">
              <li>
                <span class="item-name">Cappuccino</span>
                <div class="sales-bar" id="cappucino">35.3%</div>
              </li>
              <li>
                <span class="item-name" id="mocha">Mocha</span>
                <div
                  class="sales-bar"
                  id="mocha"
                  style="width: 58%; background-color: #89dceb"
                >
                  19.5%
                </div>
              </li>
              <li>
                <span class="item-name" id="latte">Latte</span>
                <div
                  class="sales-bar"
                  id="latte"
                  style="width: 45%; background-color: #f38ba8"
                >
                  20.2%
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../../components/navbar.js"></script>
    <script>
      $(document).ready(function () {
        $("#sidebar").createSidebar();
      });
    </script>
  </body>
</html>
